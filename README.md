Android WebView Integration for Traveln.ai
This Android project demonstrates a robust integration of a WebView to load the Traveln.ai web application. It features a custom WebViewClient (TravelnWebViewClient) designed for seamless, plug-and-play usage, handling authentication, session persistence, and UI loading indicators automatically.‚ú® Features‚Ä¢Secure Authentication: Automatically injects API keys and user identity information into HTTP headers, avoiding sensitive data in URL query parameters.‚Ä¢Session Persistence: Captures and re-applies cookies to maintain user sessions across page loads and redirects.‚Ä¢Plug & Play: The TravelnWebViewClient is self-contained and can be attached to any WebView with a single static method call.‚Ä¢Modern UI/UX:‚Ä¢Includes a ProgressBar that visually represents page loading status.‚Ä¢Handles both hardware and software back button presses for intuitive navigation through the WebView's history.‚Ä¢Uses EdgeToEdge for a modern, full-screen display.‚Ä¢Optimized WebView Configuration: Pre-configures WebSettings for optimal performance and compatibility, enabling JavaScript, DOM storage, and third-party cookies.üöÄ Getting StartedPrerequisites‚Ä¢Android Studio‚Ä¢An Android device or emulatorInstallation & Setup1.Clone the repository:git clone <your-repository-url>2.Open the project in Android Studio.3.Configure Authentication Credentials: Open the WebView.java file and replace the placeholder credentials with your actual user data and API key.Java// C:/Users/user/AndroidStudioProjects/Webview/app/src/main/java/com/example/webview/activities/WebView.java

public class WebView extends AppCompatActivity {
// ...
// Replace these placeholder values
private final static String AUTH_API_KEY = "ADD--YOUR--KEY--IN--HERE";
private final static String AUTH_USER_FIRST_NAME = "John";
private final static String AUTH_USER_LAST_NAME = "Doe";
private final static String AUTH_USER_PHONE = "+96170123123";
private final static String AUTH_USER_EMAIL = "user@traveln.ai";
private final static String AUTH_USER_PICTURE = "https://app.traveln.ai/static/medias/common/logo.png";
// ...
}4.Build and run the application on your device or emulator.üõ†Ô∏è How It WorksThe core of this project is the TravelnWebViewClient, which extends the standard WebViewClient to add specialized functionality for interacting with the Traveln.ai platform.WebView.java (The Activity)This activity is responsible for:‚Ä¢Initializing the views (WebView, ProgressBar, MaterialButton).‚Ä¢Attaching the TravelnWebViewClient to the WebView instance in initWebView().‚Ä¢Passing the required authentication credentials to the client.‚Ä¢Handling back navigation. If the WebView can go back, it navigates through its history. Otherwise, the activity closes.TravelnWebViewClient.java (The Custom Client)This class is the powerhouse of the integration. Its attach() method performs several key operations:1.Configures WebSettings:‚Ä¢Enables JavaScript (setJavaScriptEnabled).‚Ä¢Enables DOM Storage (setDomStorageEnabled).‚Ä¢Allows mixed content (setMixedContentMode).‚Ä¢Enables cookies and third-party cookies for session management.2.Builds & Injects Headers:‚Ä¢A Map<String, String> of headers is created using the provided API key and user details.‚Ä¢The Authorization: Api-Key ... header is used for secure API calls.‚Ä¢Custom TRAVELN-* headers are added to silently log the user in.‚Ä¢These headers are automatically injected on the initial page load and on every subsequent navigation (shouldOverrideUrlLoading).3.Manages Loading UI:‚Ä¢It attaches a WebChromeClient to listen for onProgressChanged events, updating the ProgressBar's visibility and progress accordingly.4.Preserves Cookies:‚Ä¢After a page finishes loading (onPageFinished), it retrieves the cookies for the current URL.‚Ä¢These cookies are stored and re-applied on subsequent URL loads to ensure the user's session is maintained.üìö DependenciesThis project relies on the following key dependencies from its build.gradle.kts or build.gradle file:‚Ä¢androidx.appcompat:appcompat‚Ä¢com.google.android.material:material‚Ä¢androidx.activity:activity